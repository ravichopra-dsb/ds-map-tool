# Claude Code Configuration

This project uses Claude Code with the following MCP (Model Context Protocol) servers configured:

## Available MCP Servers

### Context7

- **Transport**: HTTP
- **URL**: https://mcp.context7.com/mcp
- **Description**: Context7 integration for enhanced context management

### Chrome DevTools

- **Transport**: stdio
- **Command**: npx chrome-devtools-mcp@latest
- **Description**: Chrome DevTools integration for web development and debugging

## Usage

These MCP servers provide additional capabilities to Claude Code for this project. You can use them through the standard Claude Code interface.

- Use Context7 to check up-to-date docs when needed for implementing new libraries or frameworks, or adding features using them.

## Project Overview

This is a **DS Map Tool** - a web-based map editor application built with React and OpenLayers.

### Technology Stack
- **Frontend**: React + TypeScript + Vite
- **Map Library**: OpenLayers (v10.6.1)
- **Styling**: Tailwind CSS
- **UI Icons**: Lucide React
- **Build Tool**: Vite

### Key Features
- Interactive map with OSM and satellite view toggle
- Advanced drawing tools (Point, Polyline, Line, Freehand, Arrow, GP, Tower, Junction Point)
- File import/export support (GeoJSON, KML, KMZ)
- Tool selection system with toolbar
- Universal feature selection (all features can be selected) with restricted editing (only Polyline, Freehand Line, Arrow, and Legend are editable)
- Legend creation and management
- Transform tool for advanced feature manipulation (rotate, scale, stretch)
- Smooth map view transitions

### Architecture
- `src/components/MapEditor.tsx` - Main map component with OpenLayers integration
- `src/components/ToolBar.tsx` - Toolbar for tool selection
- `src/components/Legend.tsx` - Legend creation and management component
- `src/tools/toolConfig.ts` - Tool configuration and definitions
- `src/tools/` - Individual tool implementations (ArrowTool.ts, GPTool.ts, TowerTool.ts, JunctionPointTool.ts)
- `src/components/MapViewToggle.tsx` - Map view switcher component
- `src/components/LoadingOverlay.tsx` - Loading overlay for transitions

### Available Tools
- **Select**: Select all features (universal selection) with editing restricted to Polyline, Freehand Line, Arrow, and Legend features
- **Hand**: Pan navigation mode
- **Point**: Place point markers
- **Polyline**: Draw straight lines
- **Line**: Draw line segments
- **Freehand**: Freehand drawing
- **Arrow**: Draw arrows with customizable styles
- **GP**: GP (General Purpose) drawing tool
- **Tower**: Place tower markers
- **Junction Point**: Place junction/connectivity points
- **Legend**: Create and manage map legends
- **Transform**: Advanced feature manipulation (rotate, scale, stretch) - works only on editable features
- **Text**: Place and edit text labels (planned feature)

### Development
- Run development server: `npm run dev`
- Build for production: `npm run build`
- TypeScript compilation: `npm run build` (includes type checking)

### Recent Changes
- Added Arrow tool for drawing arrows with various styles
- Added GP (General Purpose) drawing tool
- Added Tower tool for placing tower markers
- Added Junction Point tool for connectivity points
- Enhanced Legend component with full CRUD operations
- **Updated Select tool for universal selection** - All features can now be selected, but editing is restricted to Polyline, Freehand Line, Arrow, and Legend features
- **Enhanced Transform tool** - Now respects editability restrictions and only works on editable features
- **Fixed icon feature editability** - Pit, Triangle, GP, and Junction features are now properly non-editable while remaining selectable
- **Unified visual selection feedback** - All selected features now have consistent blue highlighting regardless of editability
- Added file export support for KMZ format in addition to GeoJSON and KML
- Implemented auto-save functionality
- Added keyboard shortcuts for tool switching
- Enhanced UI with improved tooltips and visual feedback

---

_This file was generated by Claude Code_
